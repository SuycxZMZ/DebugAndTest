## 进程和线程的区别

1. 共同点：
   
        在内核中都用同一个数据结构task_struct来表示，即进程控制块（PCB）。
2. 不同点：
   
   **1. 本质区别：**
   
        进程是操作系统资源分配的基本单位，线程是CPU调度的基本单位。
   
   **2. 并发性：**
   
        切换效率不同，都要保存现场信息，寄存器和PC。进程还要保存用户空间信息，以及内核空间信息。

        用户空间是进程可以直接访问的部分地址空间，通常包括代码、数据、堆和栈等区域。
        在用户空间，进程可以执行自己的代码，读写自己的数据，并通过系统调用请求内核执行某些特权操作（如文件操作、网络操作等）。

        内核空间是操作系统内核使用的地址空间，包含了操作系统内核的代码和数据结构，以及硬件设备的I/O缓冲区等。
        内核空间是受保护的，普通进程无法直接访问，只有特权级别较高的内核模式（也称为特权模式）才能够访问。

        
        进程切换全都要切换。相同进程的线程共享进程的用户空间信息，以及内核空间信息，切换时只需要切换运行环境(寄存器和PC)。
        不同进程的线程切换代价与不同进程差不多，属于都要切换。


   **3. 内存**

        线程也有一部分栈空间,PC,本地存储空间，但是没有独立的虚拟地址空间
        进程有自己独立的虚拟地址空间，隔离性很好
   **4. 所属关系**

        一个进程可以创建多个线程
        一个线程只能属于一个进程

   **5. 健壮性**
        进程的健壮性高一点，有独立的虚拟地址空间，一个进程挂掉，不影响其他独立的进程
        但是一个进程里的某一个线程挂掉，整个进程就挂掉了